<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webhooks</title>
    <meta name="description" content="">
    <link href="/docs//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,600" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" type="image/x-icon" href="https://cosmicjs.com/images/favicons/apple-touch-icon-57x57.png">
  <link rel="icon" type="image/x-icon" href="https://cosmicjs.com/images/favicons/apple-touch-icon-57x57.png">
    
    <link rel="preload" href="/docs/assets/css/0.styles.2d416d3f.css" as="style"><link rel="preload" href="/docs/assets/js/app.0e95dbcf.js" as="script"><link rel="preload" href="/docs/assets/js/4.f63b17bf.js" as="script"><link rel="preload" href="/docs/assets/js/3.2e0e9e48.js" as="script"><link rel="preload" href="/docs/assets/js/23.8d7cb46f.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.b8d042f5.js"><link rel="prefetch" href="/docs/assets/js/11.bb3e110e.js"><link rel="prefetch" href="/docs/assets/js/12.e8501ac9.js"><link rel="prefetch" href="/docs/assets/js/13.ec810bdb.js"><link rel="prefetch" href="/docs/assets/js/14.53a0228b.js"><link rel="prefetch" href="/docs/assets/js/15.6c272c90.js"><link rel="prefetch" href="/docs/assets/js/16.ccfa93b4.js"><link rel="prefetch" href="/docs/assets/js/17.40ba5ff5.js"><link rel="prefetch" href="/docs/assets/js/18.b80078db.js"><link rel="prefetch" href="/docs/assets/js/19.3fb692a0.js"><link rel="prefetch" href="/docs/assets/js/20.ae51863c.js"><link rel="prefetch" href="/docs/assets/js/21.020f648e.js"><link rel="prefetch" href="/docs/assets/js/22.e0c1a13c.js"><link rel="prefetch" href="/docs/assets/js/24.ae88ff1f.js"><link rel="prefetch" href="/docs/assets/js/25.1a08d7ae.js"><link rel="prefetch" href="/docs/assets/js/5.18a49789.js"><link rel="prefetch" href="/docs/assets/js/6.00b0ccd0.js"><link rel="prefetch" href="/docs/assets/js/7.f51bd0eb.js"><link rel="prefetch" href="/docs/assets/js/8.59e41e23.js"><link rel="prefetch" href="/docs/assets/js/9.9d33cd4c.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.d61069ea.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.2d416d3f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://cosmicjs.com"><img src="/docs/cosmicjs-logo.png" alt="" width="135" class="logo"> <!----></a> <a href="/docs/" class="home-link router-link-active">
    Docs
    </a> <div class="links"><div placeholder="Search docs" class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/cosmicjs/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/cosmicjs/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/" class="sidebar-link">Home</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/docs/rest-api/" class="sidebar-heading clickable router-link-active open"><img src="/docs/icons/npm.svg" width="30" height="30" class="sidebar-icon"> <span>REST API</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/rest-api/" class="sidebar-link">Introduction</a></li><li><a href="/docs/rest-api/errors.html" class="sidebar-link">Errors</a></li><li><a href="/docs/rest-api/authentication.html" class="sidebar-link">Authentication</a></li><li><a href="/docs/rest-api/buckets.html" class="sidebar-link">Buckets</a></li><li><a href="/docs/rest-api/users.html" class="sidebar-link">Users</a></li><li><a href="/docs/rest-api/object-types.html" class="sidebar-link">Object Types</a></li><li><a href="/docs/rest-api/objects.html" class="sidebar-link">Objects</a></li><li><a href="/docs/rest-api/metafields.html" class="sidebar-link">Metafields</a></li><li><a href="/docs/rest-api/media.html" class="sidebar-link">Media</a></li><li><a href="/docs/rest-api/webhooks.html" class="active sidebar-link">Webhooks</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/rest-api/extensions.html" class="sidebar-link">Extensions</a></li></ul></section></li><li><a href="/docs/graphql-api/" class="sidebar-link"><img src="/docs/icons/graphql.svg" width="20" height="20" class="sidebar-icon">GraphQL API</a></li><li><a href="/docs/cli/" class="sidebar-link"><img src="/docs/icons/terminal.svg" width="20" height="20" class="sidebar-icon">CLI</a></li><li><a href="/docs/functions/" class="sidebar-link"><img src="/docs/icons/function.svg" width="20" height="20" class="sidebar-icon">Functions</a></li><li><a href="/docs/webhooks/" class="sidebar-link"><img src="/docs/icons/webhooks.png" width="20" height="20" class="sidebar-icon">Webhooks</a></li><li><a href="/docs/extensions/" class="sidebar-link"><img src="/docs/icons/puzzle-piece.svg" width="20" height="20" class="sidebar-icon">Extensions</a></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="webhooks"><a href="#webhooks" aria-hidden="true" class="header-anchor">#</a> Webhooks</h1> <h3 id="add-webhook"><a href="#add-webhook" aria-hidden="true" class="header-anchor">#</a> Add Webhook</h3> <p>Sends a POST request to the endpoint of your choice when the event occurs. The data payload in the same fomat as Object and Media. Read more about Webhooks including the payload sent to the endpoint on the <a href="/webhooks">Webhooks documentation page</a>.</p> <table><thead><tr><th>Parameter</th> <th>Required</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>event</td> <td>required</td> <td>Enum</td> <td>object.created.draft, object.created.published, object.edited.draft, object.edited.published, object.deleted, media.created, media.edited, media.deleted</td></tr> <tr><td>endpoint</td> <td>required</td> <td>String</td> <td>The endpoint that will receive the data</td></tr> <tr><td>write_key</td> <td></td> <td>String</td> <td>Your Bucket write key</td></tr></tbody></table> <div class="tabs-component"><ul role="tablist" class="tabs-component-tabs"></ul> <div class="tabs-component-panels"><section aria-hidden="true" id="bash" role="tabpanel" class="tabs-component-panel" style="display:none;"><p><strong>Definition</strong></p> <div class="language- extra-class"><pre class="language-text"><code>POST https://api.cosmicjs.com/v1/:bucket_slug/webhooks
</code></pre></div><p><strong>Example Request</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;object.created.published&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;endpoint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://my-listener.com&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;write_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;your-key-added-in-bucket-settings&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Example Response</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e39b2480-f043-11e7-ba08-234e3fae7762&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Object created and published&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;object.created.published&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;endpoint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://my-listener.com&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></section> <section aria-hidden="true" id="javascript" role="tabpanel" class="tabs-component-panel" style="display:none;"><p><strong>Definition</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>bucket<span class="token punctuation">.</span><span class="token function">addWebhooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Example Request</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bucket <span class="token operator">=</span> Cosmic<span class="token punctuation">.</span><span class="token function">bucket</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	slug<span class="token punctuation">:</span> <span class="token string">'bucket-slug'</span><span class="token punctuation">,</span>
	write_key<span class="token punctuation">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
bucket
	<span class="token punctuation">.</span><span class="token function">addWebhook</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		event<span class="token punctuation">:</span> <span class="token string">'object.created.published'</span><span class="token punctuation">,</span>
		endpoint<span class="token punctuation">:</span> <span class="token string">'http://my-listener.com'</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Example Response</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e39b2480-f043-11e7-ba08-234e3fae7762&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Object created and published&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;object.created.published&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;endpoint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://my-listener.com&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></section></div></div> <h3 id="delete-a-webhook"><a href="#delete-a-webhook" aria-hidden="true" class="header-anchor">#</a> Delete a Webhook</h3> <p>If a write key is enabled on the requested bucket, the parameter <code>write_key</code> will need to be present.</p> <table><thead><tr><th>Parameter</th> <th>Required</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>write_key</td> <td></td> <td>String</td> <td>Your Bucket write key</td></tr></tbody></table> <div class="tabs-component"><ul role="tablist" class="tabs-component-tabs"></ul> <div class="tabs-component-panels"><section aria-hidden="true" id="bash" role="tabpanel" class="tabs-component-panel" style="display:none;"><p><strong>Definition</strong></p> <div class="language- extra-class"><pre class="language-text"><code>DELETE https://api.cosmicjs.com/v1/:bucket_slug/webhooks/:webhook_id
</code></pre></div><p><strong>Example Request</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;write_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;your-key-added-in-bucket-settings&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Example Response</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;200&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Webhook deleted.&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></section> <section aria-hidden="true" id="javascript" role="tabpanel" class="tabs-component-panel" style="display:none;"><p><strong>Definition</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>Cosmic<span class="token punctuation">.</span><span class="token function">deleteWebhook</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Example Request</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bucket <span class="token operator">=</span> Cosmic<span class="token punctuation">.</span><span class="token function">bucket</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	slug<span class="token punctuation">:</span> <span class="token string">'bucket-slug'</span><span class="token punctuation">,</span>
	write_key<span class="token punctuation">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
bucket
	<span class="token punctuation">.</span><span class="token function">deleteWebhook</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		id<span class="token punctuation">:</span> <span class="token string">'c62defe0-5f93-11e7-8054-873245f0e98d'</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Example Response</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;200&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Webhook deleted.&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></section></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/cosmicjs/docs/edit/master/docs/rest-api/webhooks.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">5/6/2019, 4:23:06 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/rest-api/media.html" class="prev">
          Media
        </a></span> <span class="next"><a href="/docs/rest-api/extensions.html">
          Extensions
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.0e95dbcf.js" defer></script><script src="/docs/assets/js/4.f63b17bf.js" defer></script><script src="/docs/assets/js/3.2e0e9e48.js" defer></script><script src="/docs/assets/js/23.8d7cb46f.js" defer></script>
  </body>
</html>
